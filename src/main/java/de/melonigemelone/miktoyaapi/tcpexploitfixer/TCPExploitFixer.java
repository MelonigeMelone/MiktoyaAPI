package de.melonigemelone.miktoyaapi.tcpexploitfixer;

import de.melonigemelone.miktoyaapi.MiktoyaAPI;
import de.melonigemelone.miktoyaapi.tcpexploitfixer.listener.TCPPlayerJoinQuitListener;
import de.melonigemelone.miktoyaapi.tcpexploitfixer.mysql.TCPExploitFixerMySQL;

/**
 *
 * TCPExploitFixer
 *
 * Der TCPExploitFixer dient dazu einen BungeeCord Bug zu fixen, durch welchen man durch einen anderen BungeeCord auf den Server joinen kann.
 *
 * Das System basiert auf einem Bungeecord und auf einem Spigot Part.
 *
 * Hier im Spigot Part wird geschaut ob der Spieler 체ber den richtigen BungeeCord gejoint ist.
 * Das wird 체berp체rft indem man schaut, ob die UUID des Spielers in der Datenbank existiert. N
 * ach erfolgreichem joinen wird in einer zweiten Tabelle best채tigt, dass der Spieler auf dem Server ist.
 *
 * @author  MelonigeMelone
 * @version 1.0
 * @since   2021-01-16
 */

public class TCPExploitFixer {

    public static TCPExploitFixerMySQL tcpExploitFixerMySQL;

    public static void init() {
        tcpExploitFixerMySQL = new TCPExploitFixerMySQL();

        MiktoyaAPI.getInstance().getServer().getPluginManager().registerEvents(new TCPPlayerJoinQuitListener(), MiktoyaAPI.getInstance());
    }

    public static TCPExploitFixerMySQL getTcpExploitFixerMySQL() {
        return tcpExploitFixerMySQL;
    }
}
